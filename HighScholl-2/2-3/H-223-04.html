<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="utf-8">
	<title>데이터 시각화 체험</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.5, maximum-scale=3, user-scalable=yes">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="format-detection" content="telephone=no">

	<link rel="stylesheet" href="./css/jquery-ui.min.css">
	<link rel="stylesheet" href="./css/fonts.css">
	<link rel="stylesheet" href="./css/style.css">
	<link rel="stylesheet" href="./css/common_all.css">

	<script src="https://tbacdn.kosac.re.kr/js/aidtScript.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="./js/jquery-ui.min.js"></script>

	<!-- 브라우저 번역(다국어 관련) -->
	<link rel="stylesheet" href="./css/GoogleTranslate.css">
	<script type="text/javascript" src="./js/GoogleTranslate.js"></script>
	<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=GoogleTranslateInitCallback"></script>

	<script src="https://acv001.aiktbook.com/api/static/message-channel-iframe.js"></script>
</head>
<body>
	<div id="wrap">
		
		<main class="H_223_04_con">
			<div class="contents_con">
				<div class="title_con">
					<div class="contents_con">
						<div class="text_bg">
							<h2 class="text" tabindex="0">스스로 해결하기</h2>
							<div class="bg"></div>
						</div>

						<div class="text_con" tabindex="0">
							<h1>
								데이터 시각화 체험
							</h1>
						</div>
					</div>
				</div>

				<div class="contents_con">
					<div class="info01_con">
						<div class="text_con" tabindex="0">
							<span>
								&nbsp;&nbsp;다음은 한 온라인 사이트에서 ‘더위’와 ‘아이스크림’ 키워드의 검색 추이를 나타낸 것이다. 더위와 아이스크림의 검색 <br>
								추이가 어떤 관계가 있는지 적어 보자.
							</span>
						</div>
					</div>

					<form id="frm1" onsubmit="return false">
						<input type="hidden" name="aidt_pageTitle" value="데이터 시각화 체험">

						<div class="both_wrap">
							<div class="img_wrap">
								<div class="img H_223_04_img01" role="img" aria-labelledby="그래프의 x축은 2021년부터 2024년까지의 시간 흐름, y축은 값의 크기를 나타낸다. 분홍색 선은 ‘더위’ 검색량을 나타내며, 여름철마다 크게 증가했다가 가을과 겨울에 급감하는 주기적인 패턴을 보인다. 연두색 선은 ‘아이스크림’ 검색량으로, ‘더위’ 검색량이 급증하는 시점과 비슷하게 짧고 뾰족한 급등 현상을 보이며 반응하고 있다."></div>
								<div class="filter">
									<span class="txt">검색 기간: 2020.06.03. ~ 2024.07.10.</span>
									<div class="ctg">
										<span class="item01">더위</span>
										<span class="item02">아이스크림</span>
									</div>
								</div>
							</div>

							<div class="form_wrap">
								<div class="exam_textarea">
									<div class="exam_tit">
										<span class="exam_icon">예시</span>
										<p>더위의 검색 추이가 높아진 후에<br /> 아이스크림의 검색 추이가 많아지는 것을 알 수 있다.</p>
									</div>
									<div class="exam_con">
										<input type="hidden" name="aidt_examId" value="1">
										<input type="hidden" name="aidt_exam" value=" 더위와 아이스크림의 검색 추이가 어떤 관계가 있는지 적어 보자.">
										<input type="hidden" name="aidt_answer" value="">
										<input type="hidden" name="aidt_mcqYn" value="N">
										<input type="hidden" name="aidt_type" value="narrative">
										<textarea class="textarea01" placeholder="내용을 입력해 보자." name="aidt_input"></textarea>
									</div>
								</div>
							
								
								<div class="btn_con">
									<button id="btn1" class="a_btn a_btn01" type="button" aria-label="제출하기" tabindex="0">제출하기</button>
									<button id="btn1_1" class="a_btn a_btn02" type="button" aria-label="다시 제출하기" style="display:none;" tabindex="0">다시 제출하기</button>
								</div>


							</div>
						</div>


						


						

						<div class="popup_con_bg popup01"></div>
						<div class="popup_con popup01" role="alert"></div>

						<div class="popup_con_bg popup02"></div>
						<div class="popup_con popup02" role="alert"></div>

						<div class="popup_con_bg popup03"></div>
						<div class="popup_con popup03" role="alert"></div>

					</form>

				</div>
			</div>
		</main>

	</div>
<script>
	const child = new ClientAPI(); //본 코드는 데이터 전송 페이지마다 각각 별도로 들어있어야 하고, 내부 스크립트의 최상단에 위치해야함. 
			
			//페이지 제어 시작
			if (document.referrer) { 
const parentURL = new URL(document.referrer);
			window.parent.postMessage({
				actCd: "cont"
			}, parentURL.origin); }

	//제출 여부 받아서 버튼 제어
	child.receiveMessage((data)=>{
		if(data.submitYn === 'Y'){
			document.getElementById('btn1_1').style.display = ""; //수정하기 버튼 표시
			document.getElementById('btn1').style.display = "none"; //제출 버튼 숨기기
		}
	});

	// [제출하기]btn click 시 form#frm1 전송
	const btn1 = document.getElementById('btn1'); //제출 버튼
	btn1.addEventListener('click', () => {
		sendFormData()
	});

	// [수정하기]btn click 시 form#frm1 전송
	const btn1_1 = document.getElementById('btn1_1'); //수정 버튼 
	btn1_1.addEventListener('click', () => {
		sendFormData()
	});

	

	// 제출하기
	function sendFormData(){
		// 텍스트 영역이 모두 채워졌는지 확인
		const textarea1Filled = $("textarea[name='aidt_input']").eq(0).val().trim() !== "";
		
		// 조건 확인 및 적절한 함수 호출
		if (!textarea1Filled) {
			btn_event01(); // 텍스트 영역이 하나라도 비어있는 경우
		} else {
			btn_event02(); // 모든 항목이 채워진 경우
		}
	}

	// 제출하기 - 내용 없음
	function btn_event01(){
		$(".H_223_04_con .btn_con .a_btn").blur();
		$(".H_223_04_con .popup_con_bg.popup01").fadeIn();
		$(".H_223_04_con .popup_con.popup01").fadeIn();
		
		setTimeout(function(){
			$(".H_223_04_con .popup_con_bg.popup01").fadeOut();
			$(".H_223_04_con .popup_con.popup01").fadeOut();
		}, 1000);
	}

	// 제출하기 - 내용 있음
	function btn_event02(){
		$(".H_223_04_con .btn_con .a_btn").blur();
		$(".H_223_04_con .popup_con_bg.popup02").fadeIn();
		$(".H_223_04_con .popup_con.popup02").fadeIn();

		// 버튼 전환
			$("#btn1").hide();
		$("#btn1_1").show();

		// 실제 데이터 전송
		child.sendFormData('frm1');

		//페이지 제어 종료
		window.parent.postMessage({
			actCd: "comp"
		}, parentURL.origin);

		setTimeout(function(){
			$(".H_223_04_con .popup_con_bg.popup02").fadeOut();
			$(".H_223_04_con .popup_con.popup02").fadeOut();
		}, 1000);
	}


	
</script>
<script>
	const contentId = 'H-223-04';
</script>
<script type="text/javascript" src="./js/xapi.page.js"></script>	
</body>
</html>